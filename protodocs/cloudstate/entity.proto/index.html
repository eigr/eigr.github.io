<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.4">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="eigr.io Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="eigr.io Blog Atom Feed"><title data-react-helmet="true">entity.proto | eigr.io</title><meta data-react-helmet="true" property="og:url" content="https://eigr.io/protodocs/cloudstate/entity.proto/"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_version" content="current"><meta data-react-helmet="true" name="docusaurus_tag" content="docs-protodocs-current"><meta data-react-helmet="true" property="og:title" content="entity.proto | eigr.io"><meta data-react-helmet="true" name="description" content="entity.proto"><meta data-react-helmet="true" property="og:description" content="entity.proto"><link data-react-helmet="true" rel="shortcut icon" href="/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://eigr.io/protodocs/cloudstate/entity.proto/"><link data-react-helmet="true" rel="alternate" href="https://eigr.io/protodocs/cloudstate/entity.proto/" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://eigr.io/protodocs/cloudstate/entity.proto/" hreflang="x-default"><link rel="stylesheet" href="/assets/css/styles.c035f005.css">
<link rel="preload" href="/assets/js/runtime~main.c0976fa7.js" as="script">
<link rel="preload" href="/assets/js/main.b0125c2b.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_1oUP">Skip to main content</a></div><nav class="navbar navbar--fixed-top navbar--dark"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Navigation bar toggle" class="navbar__toggle clean-btn" type="button" tabindex="0"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><img src="/img/sc_logo_002_1.png" alt="eigr" class="themedImage_1VuW themedImage--light_3UqQ navbar__logo"><img src="/img/sc_logo_002_1.png" alt="eigr" class="themedImage_1VuW themedImage--dark_hz6m navbar__logo"><b class="navbar__title"></b></a><a class="navbar__item navbar__link" href="/docs/overview/">Documentation</a><a class="navbar__item navbar__link" href="/blog/">Blog</a><a class="navbar__item navbar__link" href="/protodocs/cloudstate/entity.proto/">gRPC Proxy-Protocol</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/eigr" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a><div class="react-toggle toggle_3Zt9 react-toggle--disabled"><div class="react-toggle-track" role="button" tabindex="-1"><div class="react-toggle-track-check"><span class="toggle_71bT">ðŸŒœ</span></div><div class="react-toggle-track-x"><span class="toggle_71bT">ðŸŒž</span></div><div class="react-toggle-thumb"></div></div><input type="checkbox" class="react-toggle-screenreader-only" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper docs-wrapper doc-page"><div class="docPage_31aa"><button class="clean-btn backToTopButton_35hR" type="button" title="Scroll to top"><svg viewBox="0 0 24 24" width="28"><path d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" fill="currentColor"></path></svg></button><aside class="docSidebarContainer_3Kbt"><div class="sidebar_15mo"><nav class="menu thin-scrollbar menu_Bmed menuWithAnnouncementBar_2WvA"><ul class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#">Proxy-Protocol v0.6.0</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link menu__link--sublist menu__link--active" href="#" tabindex="0">/cloudstate</a><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/protodocs/cloudstate/entity_key.proto/">entity_key.proto</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/protodocs/cloudstate/eventing.proto/">eventing.proto</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/protodocs/cloudstate/legacy_entity_key.proto/">legacy_entity_key.proto</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/protodocs/cloudstate/action.proto/">action.proto</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/protodocs/cloudstate/crdt.proto/">crdt.proto</a></li><li class="menu__list-item"><a aria-current="page" class="menu__link menu__link--active active" tabindex="0" href="/protodocs/cloudstate/entity.proto/">entity.proto</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/protodocs/cloudstate/event_sourced.proto/">event_sourced.proto</a></li><li class="menu__list-item"><a class="menu__link" tabindex="0" href="/protodocs/cloudstate/value_entity.proto/">value_entity.proto</a></li></ul></li><li class="menu__list-item menu__list-item--collapsed"><a class="menu__link menu__link--sublist" href="#" tabindex="0">/google/api</a></li></ul></li></ul></nav></div></aside><main class="docMainContainer_3ufF"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_3FnS"><div class="docItemContainer_33ec"><article><div class="tocCollapsible_1PrD tocMobile_3Hoh"><button type="button" class="clean-btn tocCollapsibleButton_2O1e">On this page</button></div><div class="markdown"><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="entityproto"></a><code>entity.proto</code><a class="hash-link" href="#entityproto" title="Direct link to heading">#</a></h2><p><em><strong>path</strong> cloudstate/entity.proto</em></p><p><em><strong>package</strong> cloudstate</em></p><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="messages"></a>Messages<a class="hash-link" href="#messages" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="clientaction"></a><code>ClientAction</code><a class="hash-link" href="#clientaction" title="Direct link to heading">#</a></h3><p style="white-space:pre-wrap">An action for the client</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>reply</code></td><td><a href="/protodocs/cloudstate/entity.proto/#reply"><code>Reply</code></a></td><td style="white-space:pre-wrap">Send a reply</td></tr><tr><td><code>forward</code></td><td><a href="/protodocs/cloudstate/entity.proto/#forward"><code>Forward</code></a></td><td style="white-space:pre-wrap">Forward to another entity</td></tr><tr><td><code>failure</code></td><td><a href="/protodocs/cloudstate/entity.proto/#failure"><code>Failure</code></a></td><td style="white-space:pre-wrap">Send a failure to the client</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="command"></a><code>Command</code><a class="hash-link" href="#command" title="Direct link to heading">#</a></h3><p style="white-space:pre-wrap">A command. For each command received, a reply must be sent with a matching command id.</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>entity_id</code></td><td><code>string</code></td><td style="white-space:pre-wrap">The ID of the entity.</td></tr><tr><td><code>id</code></td><td><code>int64</code></td><td style="white-space:pre-wrap">A command id.</td></tr><tr><td><code>name</code></td><td><code>string</code></td><td style="white-space:pre-wrap">Command name</td></tr><tr><td><code>payload</code></td><td><code>google.protobuf.Any</code></td><td style="white-space:pre-wrap">The command payload.</td></tr><tr><td><code>streamed</code></td><td><code>bool</code></td><td style="white-space:pre-wrap">Whether the command is streamed or not.</td></tr><tr><td><code>metadata</code></td><td><a href="/protodocs/cloudstate/entity.proto/#metadata"><code>Metadata</code></a></td><td style="white-space:pre-wrap">The command metadata.

Not all transports support per message metadata, for example, gRPC doesn&#x27;t. The Cloudstate proxy MAY include
metadata from other locations in this case, for example, in gRPC, a unary call MAY have the HTTP request headers
attached to the command, while a streamed call MAY have the HTTP request headers attached as the metadata for
either the first command, or every command. This specification leaves this behavior undefined.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="entity"></a><code>Entity</code><a class="hash-link" href="#entity" title="Direct link to heading">#</a></h3><p style="white-space:pre-wrap"></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>entity_type</code></td><td><code>string</code></td><td style="white-space:pre-wrap">The type of entity. By convention, this should be a fully qualified entity protocol grpc
service name, for example, cloudstate.eventsourced.EventSourced.</td></tr><tr><td><code>service_name</code></td><td><code>string</code></td><td style="white-space:pre-wrap">The name of the service to load from the protobuf file.</td></tr><tr><td><code>persistence_id</code></td><td><code>string</code></td><td style="white-space:pre-wrap">The ID to namespace state by. How this is used depends on the type of entity, for example,
event sourced entities will prefix this to the persistence id.</td></tr><tr><td><code>passivation_strategy</code></td><td><a href="/protodocs/cloudstate/entity.proto/#entitypassivationstrategy"><code>EntityPassivationStrategy</code></a></td><td style="white-space:pre-wrap">The passivation strategy for the entity.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="entitypassivationstrategy"></a><code>EntityPassivationStrategy</code><a class="hash-link" href="#entitypassivationstrategy" title="Direct link to heading">#</a></h3><p style="white-space:pre-wrap">The semantics is to provide a flexible way for entity user functions to configure the passivation strategy.
This strategy is sent to the proxy at discovery time allowing the proxy to configure the corresponding entities.
The only passivation strategy supported is the timeout strategy and configuring this is optional for the entity.
If an entity user function does not configure the passivation strategy the proxy uses its fallback default value.

The passivation strategy for the entity user function.</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>timeout</code></td><td><a href="/protodocs/cloudstate/entity.proto/#timeoutpassivationstrategy"><code>TimeoutPassivationStrategy</code></a></td><td style="white-space:pre-wrap">the timeout passivation strategy.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="entityspec"></a><code>EntitySpec</code><a class="hash-link" href="#entityspec" title="Direct link to heading">#</a></h3><p style="white-space:pre-wrap"></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>proto</code></td><td><code>bytes</code></td><td style="white-space:pre-wrap">This should be the Descriptors.FileDescriptorSet in proto serialized from as generated by:
protoc --include_imports \
--proto_path=&lt;proto file directory&gt; \
--descriptor_set_out=user-function.desc \
&lt;path to .proto files&gt;</td></tr><tr><td><code>entities</code></td><td><a href="/protodocs/cloudstate/entity.proto/#entity"><code>Entity</code></a></td><td style="white-space:pre-wrap">The entities being served.</td></tr><tr><td><code>service_info</code></td><td><a href="/protodocs/cloudstate/entity.proto/#serviceinfo"><code>ServiceInfo</code></a></td><td style="white-space:pre-wrap">Optional information about the service.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="failure"></a><code>Failure</code><a class="hash-link" href="#failure" title="Direct link to heading">#</a></h3><p style="white-space:pre-wrap">A failure reply. If this is returned, it will be translated into a gRPC unknown
error with the corresponding description if supplied.</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>command_id</code></td><td><code>int64</code></td><td style="white-space:pre-wrap">The id of the command being replied to. Must match the input command.</td></tr><tr><td><code>description</code></td><td><code>string</code></td><td style="white-space:pre-wrap">A description of the error.</td></tr><tr><td><code>restart</code></td><td><code>bool</code></td><td style="white-space:pre-wrap">Whether this failure should trigger an entity restart.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="forward"></a><code>Forward</code><a class="hash-link" href="#forward" title="Direct link to heading">#</a></h3><p style="white-space:pre-wrap">Forwards handling of this request to another entity.</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>service_name</code></td><td><code>string</code></td><td style="white-space:pre-wrap">The name of the service to forward to.</td></tr><tr><td><code>command_name</code></td><td><code>string</code></td><td style="white-space:pre-wrap">The name of the command.</td></tr><tr><td><code>payload</code></td><td><code>google.protobuf.Any</code></td><td style="white-space:pre-wrap">The payload.</td></tr><tr><td><code>metadata</code></td><td><a href="/protodocs/cloudstate/entity.proto/#metadata"><code>Metadata</code></a></td><td style="white-space:pre-wrap">The metadata to include with the forward</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="metadata"></a><code>Metadata</code><a class="hash-link" href="#metadata" title="Direct link to heading">#</a></h3><p style="white-space:pre-wrap">Transport-specific metadata associated with a message.

The semantics of the metadata are not defined in this protocol, but rather, depend on the transport on which a
particular instance of the metadata maps to. What keys or values are allowed or disallowed, whether duplicate values
for the same key are allowed and how they are handled, and whether key names are case sensitive or not, are all
undefined in the context of the Cloudstate protocol.

If a metadata entry associated with a message can&#x27;t be expressed in an underlying transport, for example, due to
invalid characters in a key or value, the behavior of the proxy is undefined. This is because metadata is transport
specific, so if the user function chooses to use metadata, it is choosing to be specific to a particular transport,
which is beyond the scope of the Cloudstate protocol, and it&#x27;s therefore the user function&#x27;s responsibility to adhere
to the semantics of that transport. The proxy MAY decide to drop metadata entries if it knows they are invalid or
unsupported. If a metadata entry is dropped, the proxy MAY inform the user function that the entry was dropped by
sending an error message to the EntityDiscovery.ReportError gRPC call.

The metadata MAY also contain CloudEvent metadata. If a message comes from a Cloudstate event source, the Cloudstate
proxy MUST attach CloudEvent metadata to it if the event doesn&#x27;t already have CloudEvent metadata attached to it.
This metadata SHALL be encoded according to the binary mode of the CloudEvent HTTP protocol binding, which can be
found here:

https://github.com/cloudevents/spec/blob/master/http-protocol-binding.md

The Cloudstate proxy MAY synthesize appropriate values for Cloudstate metadata if no equivalent metadata exists in
the event source, for example, if there is no type, the Cloudstate proxy MAY use the name of the gRPC message as the
CloudEvent type, and if there is no source, the Cloudstate proxy MAY use the name of the topic as the source.

If an incoming message does have CloudEvent metadata attached to it, the Cloudstate proxy MUST transcode that
CloudEvent metadata to the HTTP protocol binding as described above.

Messages sent from the user function to an event destination MAY include CloudEvent metadata. If they include any
CloudEvent metadata, they MUST include all required CloudEvent attributes, including id, source, specversion and
type. The behavior of the proxy is undefined if some of these attributes, but not others, are included - the proxy
MAY ignore them all, or MAY generate values itself, but SHOULD NOT fail sending the message. If the destination for
the message is an event destination, the Cloudstate proxy MUST transcode the supplied Cloudstate metadata to a
binding appropriate for the underlying transport for that event destination, it MUST NOT pass the CloudEvent
metadata as is unless the transport uses the same binding rules.</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>entries</code></td><td><a href="/protodocs/cloudstate/entity.proto/#metadataentry"><code>MetadataEntry</code></a></td><td style="white-space:pre-wrap">The metadata entries.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="metadataentry"></a><code>MetadataEntry</code><a class="hash-link" href="#metadataentry" title="Direct link to heading">#</a></h3><p style="white-space:pre-wrap">A metadata entry.</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>key</code></td><td><code>string</code></td><td style="white-space:pre-wrap">Key for the entry. Valid keys depend on the transport from or to which this metadata is sent.</td></tr><tr><td><code>string_value</code></td><td><code>string</code></td><td style="white-space:pre-wrap">A string value. Valid values depend on the transport from or which this metadata is sent.

If the transport does not support string values, the behavior of the Cloudstate proxy is undefined from the
point of view of this protocol. If there is a convention in the protocol for encoding string values as
UTF-8 bytes, then the Cloudstate proxy MAY do that.</td></tr><tr><td><code>bytes_value</code></td><td><code>bytes</code></td><td style="white-space:pre-wrap">A bytes value. Valid values depend on the transport from or which this metadata is sent.

If the transport does not support bytes values, the behavior of the Cloudstate proxy is undefined from the
point of view of this protocol. If there is a convention in the protocol for encoding bytes values as
Base64 encoded strings, then the Cloudstate proxy MAY do that.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="proxyinfo"></a><code>ProxyInfo</code><a class="hash-link" href="#proxyinfo" title="Direct link to heading">#</a></h3><p style="white-space:pre-wrap"></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>protocol_major_version</code></td><td><code>int32</code></td><td style="white-space:pre-wrap"></td></tr><tr><td><code>protocol_minor_version</code></td><td><code>int32</code></td><td style="white-space:pre-wrap"></td></tr><tr><td><code>proxy_name</code></td><td><code>string</code></td><td style="white-space:pre-wrap"></td></tr><tr><td><code>proxy_version</code></td><td><code>string</code></td><td style="white-space:pre-wrap"></td></tr><tr><td><code>supported_entity_types</code></td><td><code>string</code></td><td style="white-space:pre-wrap"></td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="reply"></a><code>Reply</code><a class="hash-link" href="#reply" title="Direct link to heading">#</a></h3><p style="white-space:pre-wrap">A reply to the sender.</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>payload</code></td><td><code>google.protobuf.Any</code></td><td style="white-space:pre-wrap">The reply payload</td></tr><tr><td><code>metadata</code></td><td><a href="/protodocs/cloudstate/entity.proto/#metadata"><code>Metadata</code></a></td><td style="white-space:pre-wrap">Metadata for the reply

Not all transports support per message metadata, for example, gRPC doesn&#x27;t. The Cloudstate proxy MAY ignore the
metadata in this case, or it MAY lift the metadata into another place, for example, in gRPC, a unary call MAY
have its reply metadata placed in the headers of the HTTP response, or the first reply to a streamed call MAY
have its metadata placed in the headers of the HTTP response.

If the metadata is ignored, the Cloudstate proxy MAY notify the user function by sending an error message to the
EntityDiscovery.ReportError gRPC call.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="serviceinfo"></a><code>ServiceInfo</code><a class="hash-link" href="#serviceinfo" title="Direct link to heading">#</a></h3><p style="white-space:pre-wrap">Information about the service that proxy is proxying to.
All of the information in here is optional. It may be useful for debug purposes.</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>service_name</code></td><td><code>string</code></td><td style="white-space:pre-wrap">The name of the service, eg, &quot;shopping-cart&quot;.</td></tr><tr><td><code>service_version</code></td><td><code>string</code></td><td style="white-space:pre-wrap">The version of the service.</td></tr><tr><td><code>service_runtime</code></td><td><code>string</code></td><td style="white-space:pre-wrap">A description of the runtime for the service. Can be anything, but examples might be:
- node v10.15.2
- OpenJDK Runtime Environment 1.8.0_192-b12</td></tr><tr><td><code>support_library_name</code></td><td><code>string</code></td><td style="white-space:pre-wrap">If using a support library, the name of that library, eg &quot;cloudstate&quot;</td></tr><tr><td><code>support_library_version</code></td><td><code>string</code></td><td style="white-space:pre-wrap">The version of the support library being used.</td></tr><tr><td><code>protocol_major_version</code></td><td><code>int32</code></td><td style="white-space:pre-wrap">Cloudstate protocol major version accepted by the support library.</td></tr><tr><td><code>protocol_minor_version</code></td><td><code>int32</code></td><td style="white-space:pre-wrap">Cloudstate protocol minor version accepted by the support library.</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="sideeffect"></a><code>SideEffect</code><a class="hash-link" href="#sideeffect" title="Direct link to heading">#</a></h3><p style="white-space:pre-wrap">A side effect to be done after this command is handled.</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>service_name</code></td><td><code>string</code></td><td style="white-space:pre-wrap">The name of the service to perform the side effect on.</td></tr><tr><td><code>command_name</code></td><td><code>string</code></td><td style="white-space:pre-wrap">The name of the command.</td></tr><tr><td><code>payload</code></td><td><code>google.protobuf.Any</code></td><td style="white-space:pre-wrap">The payload of the command.</td></tr><tr><td><code>synchronous</code></td><td><code>bool</code></td><td style="white-space:pre-wrap">Whether this side effect should be performed synchronously, ie, before the reply is eventually
sent, or not.</td></tr><tr><td><code>metadata</code></td><td><a href="/protodocs/cloudstate/entity.proto/#metadata"><code>Metadata</code></a></td><td style="white-space:pre-wrap">The metadata to include with the side effect</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="streamcancelled"></a><code>StreamCancelled</code><a class="hash-link" href="#streamcancelled" title="Direct link to heading">#</a></h3><p style="white-space:pre-wrap"></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>entity_id</code></td><td><code>string</code></td><td style="white-space:pre-wrap">The ID of the entity</td></tr><tr><td><code>id</code></td><td><code>int64</code></td><td style="white-space:pre-wrap">The command id</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="timeoutpassivationstrategy"></a><code>TimeoutPassivationStrategy</code><a class="hash-link" href="#timeoutpassivationstrategy" title="Direct link to heading">#</a></h3><p style="white-space:pre-wrap">A passivation strategy based on a timeout. The idle timeout after which a user function&#x27;s entity is passivated.</p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>timeout</code></td><td><code>int64</code></td><td style="white-space:pre-wrap">The timeout in millis</td></tr></tbody></table><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="userfunctionerror"></a><code>UserFunctionError</code><a class="hash-link" href="#userfunctionerror" title="Direct link to heading">#</a></h3><p style="white-space:pre-wrap"></p><table><thead><tr><th>Name</th><th>Type</th><th>Description</th></tr></thead><tbody><tr><td><code>message</code></td><td><code>string</code></td><td style="white-space:pre-wrap"></td></tr></tbody></table><hr><h2><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="services"></a>Services<a class="hash-link" href="#services" title="Direct link to heading">#</a></h2><h3><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="entitydiscovery"></a><code>EntityDiscovery</code><a class="hash-link" href="#entitydiscovery" title="Direct link to heading">#</a></h3><p>Entity discovery service.</p><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="discover"></a><code>discover</code><a class="hash-link" href="#discover" title="Direct link to heading">#</a></h4><table><tbody><tr><th style="text-align:left">Method</th><td><code>discover</code></td></tr><tr><th style="text-align:left">Request</th><td><a href="/protodocs/cloudstate/entity.proto/#proxyinfo"><code>ProxyInfo</code></a></td></tr><tr><th style="text-align:left">Response</th><td><a href="/protodocs/cloudstate/entity.proto/#entityspec"><code>EntitySpec</code></a></td></tr><tr><th style="text-align:left">Description</th><td>Discover what entities the user function wishes to serve.</td></tr></tbody></table><h4><a aria-hidden="true" tabindex="-1" class="anchor enhancedAnchor_2LWZ" id="reporterror"></a><code>reportError</code><a class="hash-link" href="#reporterror" title="Direct link to heading">#</a></h4><table><tbody><tr><th style="text-align:left">Method</th><td><code>reportError</code></td></tr><tr><th style="text-align:left">Request</th><td><a href="/protodocs/cloudstate/entity.proto/#userfunctionerror"><code>UserFunctionError</code></a></td></tr><tr><th style="text-align:left">Response</th><td><a><code>Empty</code></a></td></tr><tr><th style="text-align:left">Description</th><td>Report an error back to the user function. This will only be invoked to tell the user function
that it has done something wrong, eg, violated the protocol, tried to use an entity type that
isn&#x27;t supported, or attempted to forward to an entity that doesn&#x27;t exist, etc. These messages
should be logged clearly for debugging purposes.</td></tr></tbody></table><hr></div></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/protodocs/cloudstate/crdt.proto/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Â« crdt.proto</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/protodocs/cloudstate/event_sourced.proto/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">event_sourced.proto Â»</div></a></div></nav></div></div><div class="col col--3"><div class="tableOfContents_35-E thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#entityproto" class="table-of-contents__link"><code>entity.proto</code></a></li><li><a href="#messages" class="table-of-contents__link">Messages</a><ul><li><a href="#clientaction" class="table-of-contents__link"><code>ClientAction</code></a></li><li><a href="#command" class="table-of-contents__link"><code>Command</code></a></li><li><a href="#entity" class="table-of-contents__link"><code>Entity</code></a></li><li><a href="#entitypassivationstrategy" class="table-of-contents__link"><code>EntityPassivationStrategy</code></a></li><li><a href="#entityspec" class="table-of-contents__link"><code>EntitySpec</code></a></li><li><a href="#failure" class="table-of-contents__link"><code>Failure</code></a></li><li><a href="#forward" class="table-of-contents__link"><code>Forward</code></a></li><li><a href="#metadata" class="table-of-contents__link"><code>Metadata</code></a></li><li><a href="#metadataentry" class="table-of-contents__link"><code>MetadataEntry</code></a></li><li><a href="#proxyinfo" class="table-of-contents__link"><code>ProxyInfo</code></a></li><li><a href="#reply" class="table-of-contents__link"><code>Reply</code></a></li><li><a href="#serviceinfo" class="table-of-contents__link"><code>ServiceInfo</code></a></li><li><a href="#sideeffect" class="table-of-contents__link"><code>SideEffect</code></a></li><li><a href="#streamcancelled" class="table-of-contents__link"><code>StreamCancelled</code></a></li><li><a href="#timeoutpassivationstrategy" class="table-of-contents__link"><code>TimeoutPassivationStrategy</code></a></li><li><a href="#userfunctionerror" class="table-of-contents__link"><code>UserFunctionError</code></a></li></ul></li><li><a href="#services" class="table-of-contents__link">Services</a><ul><li><a href="#entitydiscovery" class="table-of-contents__link"><code>EntityDiscovery</code></a></li></ul></li></ul></div></div></div></div></main></div></div><footer class="footer"><div class="container"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Community</div><ul class="footer__items"><li class="footer__item"><a href="https://discord.gg/Y55eZpyvNs" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Discord<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li><li class="footer__item"><a href="https://twitter.com/eigr_io" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">More</div><ul class="footer__items"><li class="footer__item"><a class="footer__link-item" href="/blog/">Blog</a></li><li class="footer__item"><a href="https://github.com/eigr" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_3J9K"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2021 â€“ eigr.io | graphics design by <a href="https://ursulahitz.com">ursulahitz.com</a></div></div></div></footer></div>
<script src="/assets/js/runtime~main.c0976fa7.js"></script>
<script src="/assets/js/main.b0125c2b.js"></script>
</body>
</html>